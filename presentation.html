<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<title></title>
<meta name="author" content="(Shukry Zablah)"/>
<style type="text/css">
.underline { text-decoration: underline; }
</style>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/reveal.js/css/reveal.css"/>

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/reveal.js/css/theme/beige.css" id="theme"/>


<!-- If the query includes 'print-pdf', include the PDF print sheet -->
<script>
    if( window.location.search.match( /print-pdf/gi ) ) {
        var link = document.createElement( 'link' );
        link.rel = 'stylesheet';
        link.type = 'text/css';
        link.href = 'https://cdn.jsdelivr.net/npm/reveal.js/css/print/pdf.css';
        document.getElementsByTagName( 'head' )[0].appendChild( link );
    }
</script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
</head>
<body>
<div class="reveal">
<div class="slides">
<section>
<section id="slide-orgad06326">
<h2 id="orgad06326">Parallelization of the Cube Method for Balanced Sampling</h2>
<p>
Shukry Zablah
</p>

<p>
Advisor: Matteo Riondato
</p>

<p>
March 2, 2020
</p>
</section>
</section>
<section>
<section id="slide-org9f7a2e3">
<h2 id="org9f7a2e3">Preliminaries</h2>
<div class="outline-text-2" id="text-org9f7a2e3">
</div>
</section>
<section id="slide-org471089c">
<h3 id="org471089c">Population</h3>
<p>
\(\left\{u_{1}, \dots, u_{k}, \dots, u_{N}\right\}\)
</p>
<p class="fragment roll-in">
\(U=\{1, \ldots, k, \ldots, N\}\)
</p>
</section>
<section id="slide-org17526ab">
<h3 id="org17526ab">Aim</h3>
<p>
Study a variable y taking value y<sub>k</sub> for unit k.
</p>
<p class="fragment roll-in">
\(T=f\left(y_{1} \cdots y_{k} \cdots y_{N}\right)\)
</p>
<aside class="notes">
<p>
Common functions: 
</p>
<ul>
<li>Total: \(Y=\sum_{k \in U} y_{k}\)</li>
<li>Population Size: \(N=\sum_{k \in U} 1\)</li>
<li>Mean: \(\bar{Y}=\frac{1}{N} \sum_{k \in U} y_{k}\)</li>
<li>Variance: V<sub>y</sub><sup>2</sup>=\frac{1}{N-1} &sum;<sub>k &isin; U</sub>\left(y<sub>k</sub>-\bar{Y}\right)<sup>2</sup>=\frac{1}{2 N(N-1)} &sum;<sub>k &isin; U</sub> &sum;<sub>&ell; &isin; U</sub>\left(y<sub>k</sub>-y<sub>&ell;</sub>\right)<sup>2</sup></li>

</ul>

</aside>
</section>
<section id="slide-orgbcfd88c">
<h3 id="orgbcfd88c">Auxiliary Variables</h3>
<p>
We have \(p\) <i>known</i> variables for every unit in the population.
</p>
<p class="fragment roll-in">
\(\mathbf{x}_{k}=\left(\begin{array}{lllll}x_{k 1} & \cdots & x_{k j} & \cdots & x_{k p}\end{array}\right)^{\prime}\)
</p>
</section>
<section id="slide-org00c6a00">
<h3 id="org00c6a00">Sample</h3>
<p>
\(\mathbf{s}=\left(\begin{array}{lllll}s_{1} & \cdots & s_{k} & \cdots & s_{N}\end{array}\right)^{\prime} \in\{0,1\}^{N}\)
</p>
</section>
<section id="slide-orgc286cc8">
<h3 id="orgc286cc8">Support</h3>
<p>
A support is a set of samples denoted by \(\mathcal{Q}\)
</p>
<p class="fragment roll-in">
Symmetric support w/o replacement: \(\mathcal{S}=\{0,1\}^{N}\)
</p>
</section>
<section id="slide-org184b490">
<h3 id="org184b490">Sampling Design</h3>
<p>
A sampling design is a multivariate probability distribution on \(\mathcal{Q}\)
</p>
<p class="fragment roll-in">
\(\sum_{\mathbf{s} \in \mathcal{Q}} p(\mathbf{s})=1\)
</p>
</section>
<section id="slide-orgd0136ea">
<h3 id="orgd0136ea">Inclusion Probabilities</h3>
<p>
The probability that unit k is in the random sample.
</p>
</section>
<section id="slide-orgb5d2f1a">
<h3 id="orgb5d2f1a">HT Estimator</h3>
<p>
An estimator for the total (or mean) that takes into consideration
unequal inclusion probabilities.
</p>
</section>
</section>
<section>
<section id="slide-org060f8d5">
<h2 id="org060f8d5">Balanced Sampling</h2>
<p>
A sampling design such that the set of possible samples is restricted by our estimate of the known totals.
</p>
<p class="fragment roll-in">
\(\mathcal{Q}=\left\{\mathbf{s} \in \mathcal{S} | \sum_{k \in U} \frac{\mathbf{x}_{k} s_{k}}{\pi_{k}}=\mathbf{X}\right\}\)
</p>
<p class="fragment roll-in">
\(\operatorname{var}\left(\hat{\mathbf{X}}_{H T}\right)=0\)
</p>
</section>
<section id="slide-org3db41e5">
<h3 id="org3db41e5">Geometric Representation</h3>
<div class="column">
<ul>
<li>vertices = samples</li>
<li>shaded area = fixed sample size restriction</li>

</ul>
</div>
<div class="column" style="display:block;margin:auto; width:50%">

<div class="figure">
<p><img src="images/cube_fixedsamplesize.png" alt="cube_fixedsamplesize.png">
</p>
</div>
</div>
</section>
</section>
<section>
<section id="slide-org97154ba">
<h2 id="org97154ba">The Cube Method</h2>
<p>
Deville, Tille 2004
</p>
<p class="fragment roll-in">
<code>sample = cube(X, pi)</code>
</p>
</section>
<section id="slide-org2ba3156">
<h3 id="org2ba3156">Intuition</h3>
<p>
The cube method is a random walk on the constraint space to a vertex.
</p>

<div class="figure">
<p><img src="images/cube_randomwalk.png" alt="cube_randomwalk.png">
</p>
</div>
</section>
<section id="slide-org77fdbf0">
<h3 id="org77fdbf0">Stratified Sampling</h3>
<p>
\(\pi=\left(\begin{array}{l}1 / 9 \\ 2 / 9 \\ 3 / 9 \\ 4 / 9 \\ 5 / 9 \\ 6 / 9 \\ 7 / 9 \\ 8 / 9\end{array}\right), \mathbf{X}=\left(\begin{array}{l}0 & 1 \\ 0 & 2 \\ 1 & 3 \\ 1 & 4 \\ 1 & 5 \\ 1 & 6 \\ 0 & 7 \\ 0 & 8\end{array}\right)\)
</p>
</section>
<section id="slide-orgec709a9">
<h3 id="orgec709a9">Fixed Sample Size</h3>
<p>
\(\pi=\left(\begin{array}{l}1 / 9 \\ 2 / 9 \\ 3 / 9 \\ 4 / 9 \\ 5 / 9 \\ 6 / 9 \\ 7 / 9 \\ 8 / 9\end{array}\right), \mathbf{X}=\left(\begin{array}{l}1 / 9 & 1 \\ 2 / 9 & 1 \\ 3 / 9 & 1 \\ 4 / 9 & 1 \\ 5 / 9 & 1 \\ 6 / 9 & 1 \\ 7 / 9 & 1 \\ 8 / 9 & 1\end{array}\right)\)
</p>
</section>
</section>
<section>
<section id="slide-org9b394b1">
<h2 id="org9b394b1">Related Works</h2>
<p class="fragment roll-in">
Chauvet 2006: A Fast Algorithm for Balanced Sampling
</p>
<p class="fragment roll-in">
Chauvet 2009: Stratified Balanced Sampling
</p>
<p class="fragment roll-in">
Hasler, Tille 2013: Fast Balanced Sampling for Highly Stratified Populations
</p>
</section>
</section>
<section>
<section id="slide-org64bd980">
<h2 id="org64bd980">My Work</h2>
<ul>
<li>Develop a parallel algorithm that implements a balanced sampling design.</li>
<li>Compare current implementations of the cube method.</li>
<li>Evaluate performance gains from parallellization.</li>

</ul>
</section>
</section>
<section>
<section id="slide-orgcf78bcb">
<h2 id="orgcf78bcb">Questions?</h2>
<div class="outline-text-2" id="text-orgcf78bcb">
</div>
</section>
<section id="slide-org483344a">
<h3 id="org483344a">Expectation of a Random Sample</h3>
<p>
\(\boldsymbol{\mu}=\mathrm{E}(\mathbf{S})=\sum_{\mathbf{s} \in \mathcal{Q}} p(\mathbf{s}) \mathbf{s}\)
</p>
<p class="fragment roll-in">
\(\sum_{k \in U} \mu_{k}=\mathrm{E}[n(\mathbf{S})]\)
</p>
<p class="fragment roll-in">
And in our setting: \(\pi=\mu\)
</p>
</section>
<section id="slide-org41c897a">
<h3 id="org41c897a">Horvitz Thompson Estimator</h3>
<p>
The HT estimator is an unbiased estimator that works for sampling with
or without replacement and with unequal inclusion probabilities.
</p>

<p>
\(\widehat{Y}_{H T}=\sum_{k \in U} \frac{S_{k} y_{k}}{\pi_{k}}\)
</p>

<p>
If \(\pi_k = n / N\) for every \(k\) (SRS), then the estimator becomes \(N\bar{y}\)
</p>
</section>
<section id="slide-orgea7443c">
<h3 id="orgea7443c">Inclusion Probabilities</h3>
<p>
Inclusion probabilities are chosen either by necessity or to lower the
variance of our estimator of Y (e.g. proportional to some auxiliary variable). 
</p>
</section>
<section id="slide-orgcb3b943">
<h3 id="orgcb3b943">The Rounding Problem</h3>
</section>
<section id="slide-org091cf03">
<h3 id="org091cf03">Enumerative Algorithm</h3>
</section>
<section id="slide-org455b5e3">
<h3 id="org455b5e3">Quality of Balancing</h3>
</section>
</section>
</div>
</div>
<script src="https://cdn.jsdelivr.net/npm/reveal.js/js/reveal.js"></script>

<script>
// Full list of configuration options available here:
// https://github.com/hakimel/reveal.js#configuration
Reveal.initialize({
multiplex: {
    secret: '', // null if client
    id: '', // id, obtained from socket.io server
    url: '' // Location of socket.io server
},

// Optional libraries used to extend on reveal.js
dependencies: [
 { src: 'https://cdn.jsdelivr.net/npm/reveal.js/lib/js/classList.js', condition: function() { return !document.body.classList; } },
 { src: 'https://cdn.jsdelivr.net/npm/reveal.js/plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
 { src: 'https://cdn.jsdelivr.net/npm/reveal.js/plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
 { src: 'https://cdn.jsdelivr.net/npm/reveal.js/plugin/zoom-js/zoom.js', async: true, condition: function() { return !!document.body.classList; } },
 { src: 'https://cdn.jsdelivr.net/npm/reveal.js/plugin/notes/notes.js', async: true, condition: function() { return !!document.body.classList; } }]
});
</script>
</body>
</html>
